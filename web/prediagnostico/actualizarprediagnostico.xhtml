<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="#{lenguaje.lenguaje}"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:a="http://xmlns.jcp.org/jsf/passthrough">

<f:view locale="#{lenguaje.locale}">
    <h:body>
        <ui:define name="titulo">Consultar Prediagnosticos</ui:define>
        <!-- Aside Izq de la pagina -->
        <ui:composition template="/template/common/commonLayout.xhtml">

            <ui:define name="aside">

                <div class="panel-group shadow" id="accordion" role="tablist" aria-multiselectable="true">

                    <div class="panel panel-default">
                        <div class="panel-heading active" role="tab" id="headingOne">
                            <h6 class="panel-title"><i class="fa fa-users" aria-hidden="true"></i>
                                <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapsTwo"
                                   aria-expanded="true" aria-controls="collapseOne">
                                    <ui:fragment rendered="#{controllerSession.usuario.codRol.idRol ne 4}">
                                        #{msg['prediagnosis']}
                                    </ui:fragment>
                                    <ui:fragment rendered="#{controllerSession.usuario.codRol.idRol eq 4}">
                                        <h:outputText value="#{msg['my-prediagnostics']}"/>
                                    </ui:fragment>
                                    <span class="caret"></span>
                                </a>
                            </h6>
                        </div>

                        <div id="collapsTwo" class="panel-collapse collapse in" role="tabpanel"
                             aria-labelledby="headingOne">
                            <div class="panel-body active">
                                <a href="#{request.contextPath}/prediagnostico/consultarprediagnostico.xhtml">#{msg['prediagnosis-historial']}</a>
                            </div>
                            <ui:fragment rendered="#{controllerSession.usuario.codRol.idRol eq 4}">
                                <div class="panel-body">
                                    <h:form>
                                        <a href="#{request.contextPath}/prediagnostico/crearprediagnostico.xhtml">#{msg['create-prediagnosis']}</a>
                                    </h:form>
                                </div>
                            </ui:fragment>
                        </div>

                        <ui:fragment rendered="#{controllerSession.usuario.codRol.idRol ne 4}">

                            <div class="panel-heading " role="tab" id="headingTwo">
                                <h6 class="panel-title">
                                    <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapsThree"
                                       aria-expanded="true" aria-controls="collapseOne">
                                        <i class="fa fa-bar-chart" aria-hidden="true"></i>
                                        <h:outputText value="#{msg['reports']}"></h:outputText>
                                        <span class="caret"></span>
                                    </a>
                                </h6>
                            </div>

                            <div id="collapsThree" class="panel-collapse collapse of" role="tabpanel"
                                 aria-labelledby="headingTwo">
                                <div class="panel-body">
                                    <a href="#{request.contextPath}/prediagnostico/reporteprediagnostico.xhtml">Estadísticas</a>
                                </div>
                            </div>
                        </ui:fragment>

                    </div>
                </div>
            </ui:define>

            <ui:define name="content">
                <div class="col-xs-12 col-sm-12 col-md-9 col-lg-9 shadow" id="right-container">
                    <!-- Titulo -->
                    <h4 class="page-title">
                        <ui:fragment rendered="#{controllerSession.usuario.codRol.idRol eq 3}">
                            #{msg['update-prediagnosis-result']}
                        </ui:fragment>
                        <ui:fragment rendered="#{controllerSession.usuario.codRol.idRol ne 3}">
                            #{msg['consult-prediagnosis']}
                        </ui:fragment>
                    </h4>

                    <ui:fragment rendered="#{controllerSession.usuario.codRol.idRol ne 4}">
                    <div class="contenido">

                        <div class="datosDePrediagnostico col-lg-9 col-md-9 col-sm-9 col-xs-12">
                            <h2>#{msg['prediagnosis']} N°: #{controllerPrediagnostico.prediagnostico.idPrediagnostico}</h2>
                        </div>
                        <div class="datosDePrediagnostico col-lg-3 col-md-3 col-sm-3 col-xs-12">

                            <h2>
                                #{msg['register-date']}
                                <h:outputText value="#{controllerPrediagnostico.prediagnostico.fecha}">
                                    <f:convertDateTime pattern="yyyy-MM-dd"/>
                                </h:outputText>
                            </h2>
                        </div>

                        <h:dataTable value="#{controllerPrediagnostico.prediagnostico}"
                                     class="table table-striped table-bordered">

                            <h:column>
                                <f:facet name="header">
                                    <h:outputText value="#{msg['patient']}"/>
                                </f:facet>
                                <h:outputText
                                        value="#{controllerPrediagnostico.prediagnostico.codUsuario.fullNameUsuario}"/>
                            </h:column>

                            <h:column>
                                <f:facet name="header">
                                    <h:outputText value="#{msg['email']}"/>
                                </f:facet>
                                <h:outputText
                                        value="#{controllerPrediagnostico.prediagnostico.codUsuario.correoElectronico}"/>
                            </h:column>

                            <h:column>
                                <f:facet name="header">
                                    <h:outputText value="#{msg['status']}"/>
                                </f:facet>
                                <h:outputText
                                        value="#{controllerPrediagnostico.prediagnostico.codUsuario.estadoUsuario}"/>
                            </h:column>

                        </h:dataTable>
                        <hr class="col-lg-12 col-md-12 col-sm-12 col-sm-12"
                            style="background-color: #f1f1f1; width: 100%; height: 20px; margin-left: -15px"/>
                    </div>
                    </ui:fragment>

                    <ui:fragment rendered="#{controllerSession.usuario.codRol.idRol eq 4}">
                        <div class="contenido">

                            <div class="datosDePrediagnostico col-lg-9 col-md-9 col-sm-9 col-xs-12">
                                <h2>#{msg['prediagnosis']} N°: #{controllerPrediagnostico.prediagnostico.idPrediagnostico}</h2>
                            </div>
                            <div class="datosDePrediagnostico col-lg-3 col-md-3 col-sm-3 col-xs-12">

                                <h2>
                                    #{msg['register-date']}
                                    <h:outputText value="#{controllerPrediagnostico.prediagnostico.fecha}">
                                        <f:convertDateTime pattern="yyyy-MM-dd"/>
                                    </h:outputText>
                                </h2>
                            </div>

                            <h:dataTable value="#{controllerPrediagnostico.prediagnostico}"
                                         class="table table-striped table-bordered">

                                <h:column>
                                    <f:facet name="header">
                                        <h:outputText value="#{msg['physiotherapist']}"/>
                                    </f:facet>
                                    <h:outputText
                                            value="#{controllerPrediagnostico.prediagnostico.fisioterapeuta.fullnameFisioterapeuta}"/>
                                </h:column>

                                <h:column>
                                    <f:facet name="header">
                                        <h:outputText value="#{msg['specialization']}"/>
                                    </f:facet>
                                    <h:outputText
                                            value="#{controllerPrediagnostico.prediagnostico.fisioterapeuta.especializacion}"/>
                                </h:column>

                                <h:column>
                                    <f:facet name="header">
                                        <h:outputText value="#{msg['email']}"/>
                                    </f:facet>
                                    <h:outputText
                                            value="#{controllerPrediagnostico.prediagnostico.fisioterapeuta.correoEmpresarial}"/>
                                </h:column>



                            </h:dataTable>
                            <hr class="col-lg-12 col-md-12 col-sm-12 col-sm-12"
                                style="background-color: #f1f1f1; width: 100%; height: 20px; margin-left: -15px"/>
                        </div>
                    </ui:fragment>
                    <h:form prependId="false" id="respuesta-prediagnostico">

                        <div class="form-group col-lg-11 col-md-11 col-sm-11" style="margin-left: 40px">
                            <br></br>
                            <label for="Preg1">#{msg['add-prediagnosis-question1']}</label>
                            <h:inputTextarea class="form-control" rows="4" id="Preg1"
                                             value="#{controllerPrediagnostico.prediagnostico.codRespuestaPreg.resp1}"
                                             disabled="true"></h:inputTextarea>
                        </div>

                        <div class="form-group col-lg-11 col-md-11 col-sm-11" style="margin-left: 40px">
                            <br></br>
                            <label for="Preg2">#{msg['add-prediagnosis-question2']}</label>
                            <h:inputTextarea class="form-control" rows="4" id="Preg2"
                                             value="#{controllerPrediagnostico.prediagnostico.codRespuestaPreg.resp2}"
                                             disabled="true"></h:inputTextarea>
                        </div>

                        <div class="form-group col-lg-11 col-md-11 col-sm-11" style="margin-left: 40px">
                            <br></br>
                            <label for="Preg3">#{msg['add-prediagnosis-question3']}</label>
                            <h:inputTextarea class="form-control" rows="4" id="Preg3"
                                             value="#{controllerPrediagnostico.prediagnostico.codRespuestaPreg.resp3}"
                                             disabled="true"></h:inputTextarea>
                        </div>

                        <div class="form-group col-lg-11 col-md-11 col-sm-11" style="margin-left: 40px">
                            <br></br>
                            <label for="Preg4">#{msg['add-prediagnosis-question4']}</label>
                            <h:inputTextarea class="form-control" rows="4" id="Preg4"
                                             value="#{controllerPrediagnostico.prediagnostico.codRespuestaPreg.resp4}"
                                             disabled="true"></h:inputTextarea>
                        </div>

                        <div class="form-group col-lg-11 col-md-11 col-sm-11" style="margin-left: 40px">
                            <br></br>
                            <label for="Preg5">#{msg['add-prediagnosis-question5']}</label>
                            <h:inputTextarea class="form-control" rows="4" id="Preg5"
                                             value="#{controllerPrediagnostico.prediagnostico.codRespuestaPreg.resp5}"
                                             disabled="true"></h:inputTextarea>
                        </div>

                        <div class="form-group col-lg-11 col-md-11 col-sm-11" style="margin-left: 40px">
                            <br></br>
                            <label for="Preg6">#{msg['add-prediagnosis-question6']}</label>
                            <h:inputTextarea class="form-control" rows="4" id="Preg6"
                                             value="#{controllerPrediagnostico.prediagnostico.codRespuestaPreg.resp6}"
                                             disabled="true"></h:inputTextarea>
                        </div>

                        <div class="form-group col-lg-11 col-md-11 col-sm-11" style="margin-left: 40px">
                            <br></br>
                            <label for="Preg7">#{msg['add-prediagnosis-question7']}</label>
                            <h:inputTextarea class="form-control" rows="4" id="Preg7"
                                             value="#{controllerPrediagnostico.prediagnostico.codRespuestaPreg.resp7}"
                                             disabled="true"></h:inputTextarea>
                        </div>

                        <div class="form-group col-lg-11 col-md-11 col-sm-11" style="margin-left: 40px">
                            <br></br>
                            <label for="Preg8">#{msg['add-prediagnosis-question8']}</label>
                            <h:inputTextarea class="form-control" rows="4" id="Preg8"
                                             value="#{controllerPrediagnostico.prediagnostico.codRespuestaPreg.resp8}"
                                             disabled="true"></h:inputTextarea>
                        </div>

                        <div class="form-group col-lg-11 col-md-11 col-sm-11" style="margin-left: 40px">
                            <br></br>
                            <label for="Preg9">#{msg['add-prediagnosis-question9']}</label>
                            <h:inputTextarea class="form-control" rows="4" id="Preg9"
                                             value="#{controllerPrediagnostico.prediagnostico.codRespuestaPreg.resp9}"
                                             disabled="true"></h:inputTextarea>
                        </div>

                        <div class="form-group col-lg-11 col-md-11 col-sm-11" style="margin-left: 40px">
                            <br></br>
                            <label for="Preg10">#{msg['add-prediagnosis-question10']}</label>
                            <h:inputTextarea class="form-control" rows="4" id="Preg10"
                                             value="#{controllerPrediagnostico.prediagnostico.codRespuestaPreg.resp10}"
                                             disabled="true"></h:inputTextarea>
                        </div>

                        <div class="form-group col-lg-11 col-md-11 col-sm-11" style="margin-left: 40px">
                            <ui:fragment rendered="#{controllerSession.usuario.codRol.idRol eq 3}">
                                <br></br>
                                <h:messages for="resultado"
                                            style="color: red; list-style:none; margin-bottom: 0px; padding-left: 0px"/>
                                <label for="resultado">#{msg['result']}</label>
                                <h:inputTextarea class="form-control" rows="4" id="resultado" name="resultado"
                                                 value="#{controllerPrediagnostico.prediagnostico.resultadoPrediagnostico}"
                                                 required="true" requiredMessage="El campo es obligatorio."
                                                 a:maxlength="500"
                                                 validatorMessage="Se ha excedido el número de carácteres permitidos(500)"/>
                            </ui:fragment>
                            <ui:fragment rendered="#{controllerSession.usuario.codRol.idRol ne 3}">
                                <label for="resultado">#{msg['result']}</label>
                                <h:inputTextarea class="form-control" rows="4" id="resultado2" name="resultado"
                                                 value="#{controllerPrediagnostico.prediagnostico.resultadoPrediagnostico}"
                                                 required="true" requiredMessage="El campo es obligatorio."
                                                 a:maxlength="500" disabled="true"
                                                 validatorMessage="Se ha excedido el número de carácteres permitidos(500)"/>
                            </ui:fragment>
                        </div>

                        <div class="form-group col-lg-11 col-md-11 col-sm-11" style="margin-left: 40px">
                            <br></br>
                            <ui:fragment rendered="#{controllerSession.usuario.codRol.idRol eq 3}">
                                <h:commandButton class="btn btn-primary"
                                                 action="#{controllerPrediagnostico.guardarCambios()}"
                                                 value="#{msg['save']}"/>
                                &nbsp;
                                <h:commandButton class="btn btn-default"
                                                 action="#{controllerPrediagnostico.cancelarActualizar()}"
                                                 value="#{msg['cancel']}"/>
                            </ui:fragment>
                            <ui:fragment rendered="#{controllerSession.usuario.codRol.idRol ne 3}">
                                <h:commandButton class="btn btn-default"
                                                 action="#{controllerPrediagnostico.cancelarActualizar()}"
                                                 value="#{msg['back']}"/>
                            </ui:fragment>
                        </div>

                    </h:form>
                </div>


            </ui:define>
            <ui:define name="ultimosScripts">
                <script type="text/javascript">
                    $(document).ready(function () {
                        $('#respuesta-prediagnostico').validate({
                            rules: {
                                'resultado': {
                                    required: true,
                                    maxlength: 255
                                }
                            },
                            messages: {
                                'resultado': {
                                    required: 'El campo es obligatorio.',
                                    maxlength: 'Se ha excedido el número de carácteres permitidos(255).'
                                }
                            }
                        })

                    })
                </script>
            </ui:define>

        </ui:composition>

    </h:body>
</f:view>
</html>



